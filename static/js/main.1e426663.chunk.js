(this["webpackJsonpstar-wars"]=this["webpackJsonpstar-wars"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,a){e.exports={container:"ChooseSide_container__3H-eQ",item:"ChooseSide_item__1qfTc",title:"ChooseSide_title__1H9Xr",img:"ChooseSide_img__1y6z_",item__light:"ChooseSide_item__light__VlJgd",item__dark:"ChooseSide_item__dark__3mi6B",item__neitral:"ChooseSide_item__neitral__3Mo9G"}},,function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return i}));var n=a(7),c=a.n(n),r=a(13),s=function(){var e=Object(r.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:if((a=e.sent).ok){e.next=7;break}return console.error("Could not fetch.",a.status),e.abrupt("return",!1);case 7:return e.next=9,a.json();case 9:return e.abrupt("return",e.sent);case 12:return e.prev=12,e.t0=e.catch(0),console.error("Could not fetch.",e.t0.message),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(r.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){return fetch(e).then((function(e){return e.json()}))})));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},,function(e,t,a){e.exports={list:"SearchPageInfo_list__3syYX",item:"SearchPageInfo_item__2YXR6",photo:"SearchPageInfo_photo__3YA6t",name:"SearchPageInfo_name__3kmT9",comment:"SearchPageInfo_comment__2iu20"}},,function(e,t,a){e.exports={list:"PeopleList_list__1LvdW",item:"PeopleList_item__2jcs0",link:"PeopleList_link__25hth",img:"PeopleList_img__1lYLD"}},function(e,t,a){e.exports={wrapper:"PersonInfo_wrapper__ESDzM",list:"PersonInfo_list__3i8p1",item:"PersonInfo_item__OkUmX",title:"PersonInfo_title__3c-w3"}},function(e,t,a){e.exports={wrapper:"Input_wrapper__1e2JK",input:"Input_input__3jr7U",clear:"Input_clear__21Z71",clear__disabled:"Input_clear__disabled__2Y81w"}},,,,,function(e,t,a){e.exports={container:"Favorite_container__gqwfK",icon:"Favorite_icon__ocTXb",counter:"Favorite_counter__drDyb"}},function(e,t,a){e.exports={header:"Header_header__2NO1I",logo:"Header_logo__1_oUt",list:"Header_list__54R_2"}},function(e,t,a){e.exports={container:"PeopleNavigation_container__Ml0XB",buttons:"PeopleNavigation_buttons__2-uCl"}},function(e,t,a){e.exports={container:"PersonPhoto_container__Tzb3g",photo:"PersonPhoto_photo__1DMUf",favorite:"PersonPhoto_favorite__J6z96"}},function(e,t,a){e.exports={wrapper:"PersonPage_wrapper__1Kf0_",name:"PersonPage_name__rlqlY",container:"PersonPage_container__29ZHC"}},,,function(e,t,a){},,,function(e,t,a){e.exports={text:"ErrorMessage_text__1TQt7",video:"ErrorMessage_video__xB_cn"}},function(e,t,a){e.exports={button:"Button_button__2QlyP",dark:"Button_dark__26NbI",light:"Button_light__2aOr0"}},function(e,t,a){e.exports={img:"NotFoundPage_img__ZWzw3",text:"NotFoundPage_text__Gdj9S"}},function(e,t,a){e.exports={link:"PersonLinkBack_link__S90RB",img:"PersonLinkBack_img__3FM5v"}},function(e,t,a){e.exports={loader:"Loading_loader__3laEU",shadow:"Loading_shadow__1WVXi"}},,function(e,t,a){},function(e,t,a){e.exports={comment:"FavoritePage_comment__jNHx4"}},function(e,t,a){e.exports={input:"SearchPage_input__Ag-FG"}},function(e,t,a){e.exports={wrapper:"App_wrapper__LUYx8"}},,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(24),s=a.n(r),i=a(12),o=a(5),l=a(4),u=a(3),j=a(14),p=a(50),d=a(0),b=["children"],m="light",h="dark",f="neitral",O=c.a.createContext(),_=function(e){var t=e.children,a=Object(p.a)(e,b),c=Object(n.useState)(null),r=Object(u.a)(c,2),s=r[0],i=r[1];return Object(d.jsx)(O.Provider,Object(j.a)(Object(j.a)({value:{theme:s,change:function(e){i(e),function(e){var t=document.querySelector(":root");["header","bgimage"].forEach((function(a){t.style.setProperty("--theme-default-".concat(a),"var(--theme-".concat(e,"-").concat(a,")"))}))}(e)}}},a),{},{children:t}))},x=function(){return Object(n.useContext)(O)},g=a.p+"static/media/bookmark.113ef259.svg",v=a(28),N=a.n(v),k=function(){var e=Object(n.useState)(0),t=Object(u.a)(e,2),a=t[0],c=t[1],r=Object(i.c)((function(e){return e.favoriteReducer}));return Object(n.useEffect)((function(){var e=Object.keys(r).length;e.toString().length>2?c("..."):c(e)})),Object(d.jsx)("div",{className:N.a.container,children:Object(d.jsxs)(o.b,{to:"/favorites",children:[Object(d.jsx)("span",{className:N.a.counter,children:a}),Object(d.jsx)("img",{className:N.a.icon,src:g,alt:"Favorites"})]})})},P=a.p+"static/media/space-station.7a027c6e.svg",S=a.p+"static/media/droid.4c5bd3a7.svg",w=a.p+"static/media/lightsaber.3576e1ed.svg",y=a(29),F=a.n(y),I=function(){var e=Object(n.useState)(P),t=Object(u.a)(e,2),a=t[0],c=t[1],r=x();return Object(n.useEffect)((function(){switch(r.theme){case m:c(w);break;case h:c(P);break;case f:c(S);break;default:c(P)}}),[r]),Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:F.a.header,children:[Object(d.jsx)("img",{className:F.a.logo,src:a,alt:"Star Wars"}),Object(d.jsxs)("ul",{className:F.a.list,children:[Object(d.jsx)("li",{children:Object(d.jsx)(o.c,{exact:!0,to:"/",children:"Home"})}),Object(d.jsx)("li",{children:Object(d.jsx)(o.c,{to:"/people?page=1",children:"People"})}),Object(d.jsx)("li",{children:Object(d.jsx)(o.c,{to:"/search",children:"Search"})}),Object(d.jsx)("li",{children:Object(d.jsx)(o.c,{exact:!0,to:"/fail",children:"Fail"})}),Object(d.jsx)("li",{children:Object(d.jsx)(o.c,{exact:!0,to:"/not-found",children:"Not Found"})})]}),Object(d.jsx)(k,{})]})})},C=a(11),E=a.n(C),R=a.p+"static/media/light-side.eebc5217.jpg",L=a.p+"static/media/dark-side.e0f8cab7.jpg",B=a.p+"static/media/falcon.c1d0a8d1.jpg",H=a(15),A=a.n(H),M=function(e){var t=e.classes,a=e.theme,n=e.text,c=e.img,r=x();return Object(d.jsxs)("div",{className:E()(A.a.item,t),onClick:function(){return r.change(a)},children:[Object(d.jsx)("div",{className:A.a.title,children:n}),Object(d.jsx)("img",{className:A.a.img,src:c,alt:n})]})},T=function(){var e=[{theme:m,text:"Light Side",img:R,classes:A.a.item__light},{theme:h,text:"Dark Side",img:L,classes:A.a.item__dark},{theme:f,text:"I'm Han Solo",img:B,classes:A.a.item__neitral}];return Object(d.jsx)("div",{className:A.a.container,children:e.map((function(e,t){var a=e.theme,n=e.text,c=e.img,r=e.classes;return Object(d.jsx)(M,{theme:a,text:n,img:c,classes:r},t)}))})},D=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{className:"title",children:"Home page"}),Object(d.jsx)(T,{})]})},J=a(7),U=a.n(J),X=a(13),Y=a(44),z=a.n(Y),G=function(e){var t=e.src,a=e.playbackRate,c=void 0===a?1:a,r=e.classes,s=Object(n.useRef)(null);return Object(n.useEffect)((function(){s.current.playbackRate=c}),[]),Object(d.jsx)("video",{loop:!0,autoPlay:!0,muted:!0,className:E()(z.a.video,r),ref:s,children:Object(d.jsx)("source",{src:t})})},W=a.p+"static/media/han-solo.db435084.mp4",V=a(38),q=a.n(V),K=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("p",{className:q.a.text,children:["The dark side of the force has won. ",Object(d.jsx)("br",{}),"We cannot display data",Object(d.jsx)("br",{}),Object(d.jsx)(G,{src:W,classes:q.a.video,playbackRate:1}),"."]})})},Q=function(e){return function(t){var a=Object(n.useState)(!1),c=Object(u.a)(a,2),r=c[0],s=c[1];return Object(d.jsx)(d.Fragment,{children:r?Object(d.jsx)(K,{}):Object(d.jsx)(e,Object(j.a)({setErrorApi:s},t))})}},Z=a(21),$=a.n(Z),ee=function(e){var t=e.people;return Object(d.jsx)("ul",{className:$.a.list,children:t.map((function(e){var t=e.name,a=e.id,n=e.image;return Object(d.jsx)("li",{className:$.a.item,children:Object(d.jsxs)(o.b,{className:$.a.link,to:"/people/".concat(a),children:[Object(d.jsx)("img",{className:$.a.img,src:n,alt:t}),Object(d.jsx)("p",{children:t})]})},a)}))})},te=a(30),ae=a.n(te),ne=(a(35),a(39)),ce=a.n(ne),re=function(e){var t=e.text,a=e.onClick,n=e.disabled,c=e.theme,r=void 0===c?"dark":c,s=e.classes;return Object(d.jsx)("button",{className:E()(ce.a.button,ce.a[r],s),onClick:a,disabled:n,children:t})},se=function(e){var t=e.getResource,a=e.prevPage,n=e.nextPage,c=e.counterPage;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{className:"title",children:"Navigation"}),Object(d.jsxs)("div",{className:ae.a.container,children:[Object(d.jsx)(o.b,{className:ae.a.buttons,to:"/people/?page=".concat(c-1),children:Object(d.jsx)(re,{text:"Previous",onClick:function(){return t(a)},disabled:!a})}),Object(d.jsx)(o.b,{className:ae.a.buttons,to:"/people/?page=".concat(c+1),children:Object(d.jsx)(re,{text:"Next",onClick:function(){return t(n)},disabled:!n})})]})]})},ie=a(17),oe="https://",le="swapi.dev/api/",ue="people",je="/?page=",pe=function(e){return+e.split(je)[1]},de=function(e){return function(e,t){return e.replace(oe+le+t,"").replace(/\//g,"")}(e,ue)},be=function(e){return"".concat("https://starwars-visualguide.com/assets/img/characters/").concat(e).concat(".jpg")},me=function(){return new URLSearchParams(Object(l.g)().search)},he=Q((function(e){var t=e.setErrorApi,a=Object(n.useState)([]),c=Object(u.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)(null),o=Object(u.a)(i,2),l=o[0],j=o[1],p=Object(n.useState)(null),b=Object(u.a)(p,2),m=b[0],h=b[1],f=Object(n.useState)(1),O=Object(u.a)(f,2),_=O[0],x=O[1],g=me().get("page"),v=function(){var e=Object(X.a)(U.a.mark((function e(a){var n,c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ie.a)(a);case 2:(n=e.sent)?(c=n.results.map((function(e){var t=e.name,a=e.url,n=de(a);return{id:n,image:be(n),name:t}})),s(c),j(n.previous),h(n.next),x(pe(a)),t(!1)):t(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){v("https://swapi.dev/api/people/?page="+g)}),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(se,{getResource:v,prevPage:l,nextPage:m,counterPage:_}),r&&Object(d.jsx)(ee,{people:r})]})})),fe=a.p+"static/media/not-found.1062f5e4.png",Oe=a(40),_e=a.n(Oe),xe=function(){var e=Object(l.g)();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("img",{className:_e.a.img,src:fe,alt:"Not Found"}),Object(d.jsxs)("p",{className:_e.a.text,children:["No match for ",Object(d.jsx)("u",{children:e.pathname})]})]})},ge=a(26),ve="ADD_PERSON_TO_FAVORITE",Ne="REMOVE_PERSON_TO_FAVORITE",ke=a.p+"static/media/favorite.afeaed4b.svg",Pe=a.p+"static/media/favorite-fill.c18b16ad.svg",Se=a(31),we=a.n(Se),ye=function(e){var t=e.personName,a=e.personPhoto,n=e.personId,c=e.personFavorite,r=e.setPersonFavorite,s=Object(i.b)();return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:we.a.container,children:[Object(d.jsx)("img",{className:we.a.photo,src:a,alt:t}),Object(d.jsx)("img",{src:c?Pe:ke,onClick:function(){var e;c?(s(function(e){return{type:Ne,payload:e}}(n)),r(!1)):(s((e=Object(ge.a)({},n,{name:t,personPhoto:a}),{type:ve,payload:e})),r(!0))},className:we.a.favorite,alt:"Add to favorite"})]})})},Fe=a(22),Ie=a.n(Fe),Ce=function(e){var t=e.personInfo;return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:Ie.a.wrapper,children:Object(d.jsx)("ul",{className:Ie.a.list,children:t.map((function(e){var t=e.title,a=e.data;return a&&Object(d.jsxs)("li",{className:Ie.a.item,children:[Object(d.jsx)("span",{className:Ie.a.title,children:t}),": ",a]},t)}))})})})},Ee=a.p+"static/media/back.80d75a51.svg",Re=a(41),Le=a.n(Re),Be=function(){var e=Object(l.f)();return Object(d.jsxs)("a",{href:"#",onClick:function(t){t.preventDefault(),e.goBack()},className:Le.a.link,children:[Object(d.jsx)("img",{className:Le.a.img,src:Ee,alt:"Go back"}),Object(d.jsx)("span",{children:"Go back"})]})},He=a(32),Ae=a.n(He),Me=a.p+"static/media/loader-black.34c09f0b.svg",Te=a.p+"static/media/loader-white.8d8876f8.svg",De=a.p+"static/media/loader-blue.983ad521.svg",Je=a(42),Ue=a.n(Je),Xe=function(e){var t=e.theme,a=void 0===t?"white":t,c=e.isShadow,r=void 0===c||c,s=e.classes,i=Object(n.useState)(null),o=Object(u.a)(i,2),l=o[0],j=o[1];return Object(n.useEffect)((function(){switch(a){case"black":j(Me);break;case"white":j(Te);break;case"blue":j(De);break;default:j(Me)}}),[]),Object(d.jsx)("img",{className:E()(Ue.a.loader,r&&Ue.a.shadow,s),src:l,alt:"Loader"})},Ye=c.a.lazy((function(){return a.e(3).then(a.bind(null,65))})),ze=Q((function(e){var t=e.match,a=e.setErrorApi,c=Object(n.useState)(null),r=Object(u.a)(c,2),s=r[0],o=r[1],l=Object(n.useState)([]),j=Object(u.a)(l,2),p=j[0],b=j[1],m=Object(n.useState)(null),h=Object(u.a)(m,2),f=h[0],O=h[1],_=Object(n.useState)(null),x=Object(u.a)(_,2),g=x[0],v=x[1],N=Object(n.useState)([]),k=Object(u.a)(N,2),P=k[0],S=k[1],w=Object(n.useState)(!1),y=Object(u.a)(w,2),F=y[0],I=y[1],C=Object(i.c)((function(e){return e.favoriteReducer}));return Object(n.useEffect)((function(){Object(X.a)(U.a.mark((function e(){var n,c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.params.id,e.next=3,Object(ie.a)("".concat("https://swapi.dev/api/people","/").concat(n,"/"));case 3:c=e.sent,o(n),a(!c),C[n]?I(!0):I(!1),b([{title:"Height",data:c.height},{title:"Mass",data:c.mass},{title:"Hair color",data:c.hair_color},{title:"Skin color",data:c.skin_color},{title:"Eye color",data:c.eye_color},{title:"Gender",data:c.gender},{title:"Birth year",data:c.birth_year}]),O(c.name),v(be(n)),c.films.length&&S(c.films);case 11:case"end":return e.stop()}}),e)})))()}),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(Be,{}),Object(d.jsxs)("div",{className:Ae.a.wrapper,children:[Object(d.jsx)("span",{className:Ae.a.name,children:f}),Object(d.jsxs)("div",{className:Ae.a.container,children:[Object(d.jsx)(ye,{personId:s,personPhoto:g,personName:f,personFavorite:F,setPersonFavorite:I}),p&&Object(d.jsx)(Ce,{personInfo:p}),P&&Object(d.jsx)(n.Suspense,{fallback:Object(d.jsx)(Xe,{}),children:Object(d.jsx)(Ye,{personFilms:P})})]})]})]})})),Ge=a(45),We=a.n(Ge),Ve=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],r=Object(i.c)((function(e){return e.favoriteReducer}));return Object(n.useEffect)((function(){var e=Object.entries(r);if(e.length){var t=e.map((function(e){return{id:e[0],image:e[1].personPhoto,name:e[1].name}}));c(t)}}),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{className:"title",children:"Favorites"}),a.length?Object(d.jsx)(ee,{people:a}):Object(d.jsx)("h2",{className:We.a.comment,children:"No data..."})]})},qe=a(27),Ke=a.p+"static/media/cancel.b69cec75.svg",Qe=a(23),Ze=a.n(Qe),$e=function(e){var t=e.value,a=e.handleInputChange,n=e.placeholder,c=e.classes;return Object(d.jsxs)("div",{className:E()(Ze.a.wrapper,c),children:[Object(d.jsx)("input",{type:"text",value:t,onChange:function(e){return a(e.target.value)},placeholder:n,className:Ze.a.input}),Object(d.jsx)("img",{onClick:function(){return t&&a("")},src:Ke,className:E()(Ze.a.clear,!t&&Ze.a.clear__disabled),alt:"Clear"})]})},et=a(19),tt=a.n(et),at=function(e){var t=e.people;return Object(d.jsx)(d.Fragment,{children:t.length?Object(d.jsx)("ul",{className:tt.a.list,children:t.map((function(e){var t=e.id,a=e.name,n=e.img;return Object(d.jsx)("li",{className:tt.a.item,children:Object(d.jsxs)(o.b,{to:"/people/".concat(t),children:[Object(d.jsx)("img",{className:tt.a.photo,src:n,alt:a}),Object(d.jsx)("p",{className:tt.a.name,children:a})]})},t)}))}):Object(d.jsx)("h2",{className:tt.a.comment,children:"No results"})})},nt=a(46),ct=a.n(nt),rt=[{path:"/",exact:!0,component:D},{path:"/people",exact:!0,component:he},{path:"/people/:id",exact:!0,component:ze},{path:"/favorites",exact:!0,component:Ve},{path:"/search",exact:!0,component:Q((function(e){var t=e.setErrorApi,a=Object(n.useState)(""),c=Object(u.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)([]),o=Object(u.a)(i,2),l=o[0],j=o[1],p=function(){var e=Object(X.a)(U.a.mark((function e(a){var n,c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ie.a)("https://swapi.dev/api/people/?search="+a);case 2:(n=e.sent)?(c=n.results.map((function(e){var t=e.name,a=e.url,n=de(a);return{id:n,name:t,img:be(n)}})),j(c),t(!1)):t(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){p("")}),[]);var b=Object(n.useCallback)(Object(qe.debounce)((function(e){return p(e)}),300),[]);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{className:"title",children:"Search"}),Object(d.jsx)($e,{value:r,handleInputChange:function(e){s(e),b(e)},placeholder:"Enter character name",classes:ct.a.input}),Object(d.jsx)(at,{people:l})]})}))},{path:"/fail",exact:!0,component:K},{path:"/not-found",exact:!0,component:xe},{path:"*",exact:!1,component:xe}],st=a(47),it=a.n(st),ot=function(){return Object(d.jsx)(o.a,{basename:"/".concat("star-wars","/"),children:Object(d.jsxs)("div",{className:it.a.wrapper,children:[Object(d.jsx)(I,{}),Object(d.jsx)(l.c,{children:rt.map((function(e,t){var a=e.path,n=e.exact,c=e.component;return Object(d.jsx)(l.a,{path:a,exact:n,component:c},t)}))})]})})},lt=a(18),ut=a(48),jt=a(49),pt=function(e){var t=localStorage.getItem(e);return null!==t?JSON.parse(t):{}}("store"),dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve:return Object(j.a)(Object(j.a)({},e),t.payload);case Ne:return Object(qe.omit)(e,[t.payload]);default:return e}},bt=Object(lt.combineReducers)({favoriteReducer:dt}),mt=Object(lt.createStore)(bt,Object(ut.composeWithDevTools)(Object(lt.applyMiddleware)(jt.a)));mt.subscribe((function(){var e,t;e="store",t=mt.getState().favoriteReducer,localStorage.setItem(e,JSON.stringify(t))}));var ht=mt;a(62);s.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(i.a,{store:ht,children:Object(d.jsx)(_,{children:Object(d.jsx)(ot,{})})})}),document.getElementById("root"))}],[[63,1,2]]]);
//# sourceMappingURL=main.1e426663.chunk.js.map